<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/><link href="./bootstrap-combined.min.css" rel="stylesheet" /><script type="text/javascript" src="./jquery-1.9.1.min.js"></script><script type="text/javascript" src="./bootstrap.min.js"></script><link href="./styles.css" rel="stylesheet" /><link rel="icon" href="./favicon.ico" type="image/x-icon"></link><script type="text/javascript" src="./nav.js"></script><script type="text/javascript" src="./index.js"></script><script type="text/javascript">var dox = {rootPath: "./",platforms: ["project"]};</script><title>Dates</title></head><body><div class="navbar navbar-inverse navbar-fixed-top"><div class="navbar-inner"><form class="navbar-search pull-left" id="searchForm"><input id="search" type="text" class="search-query" placeholder="Filter" autocomplete="off"/></form><ul class="nav"><li id="select-platform" class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Platform<b class="caret"></b></a><ul class="dropdown-menu"><li data="all"><a href="#">All Platforms</a></li><li data="project"><a href="#">project</a></li></ul></li></ul></div></div><div id="container"><div id="nav"></div><div id="content"><div class="header"><h1><code><span class="directive">class </span><span class="type">Dates</span></code></h1></div><div class="body"><p class="availability">Available on all platforms</p><div class="doc"><p>Helpers for working with Date objects or timestampts</p>
<p><code>using <a href="./Dates.html">Dates</a>;</code></p>
<p>@author Franco Ponticelli
@author Jason O'Neil</p>
<p>Also includes typed aliases for <code><a href="./DateTools.html">DateTools</a></code> and <code><a href="./thx/culture/FormatDate.html">thx.culture.FormatDate</a></code> so their mixins can be included in <code>using <a href="./Dates.html">Dates</a></code> also</p></div><h2>Class Fields</h2><div class="platform platform-project"><a name="canParse"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#canParse"><span class="identifier">canParse</span></a>(s:<a class="type" href="./String.html">String</a>):<a class="type" href="./Bool.html">Bool</a></code></p></h3><div class="doc"><p>Let's you know if a string can be parsed into a valid date format</p>
<p>String formats allowed include:</p>
<pre><code>"2010-10-01", "2010-10-01 05:05",
	   "2010-10-01T05:05Z", "2010-10-01 05:05:05", "2010-10-01T05:05:05Z",
"2010-10-01T05:05:05", "2010-10-01 05:05:05.005"]</code></pre>
<p>@see <code><a href="./Dates.html#parse">Dates.parse</a>()</code></p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>s</td><td><p><code><a href="./String.html">String</a></code> to check.</p></td></tr><tr><td>returns</td><td><p>True if the string can be parsed as a date.</p></td></tr></tbody></table></div></div><div class="platform platform-project"><a name="compare"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#compare"><span class="identifier">compare</span></a>(a:<a class="type" href="./Date.html">Date</a>, b:<a class="type" href="./Date.html">Date</a>):<a class="type" href="./Int.html">Int</a></code></p></h3><div class="doc"><p>A comparison function for dates.</p>
<p>Can be used to sort an array of dates from earliest to latest:</p>
<pre><code>arrayOfDates.sort(Dates.compare);
</code></pre><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>a</td><td><p>First Date to compare.</p></td></tr><tr><td>b</td><td><p>Second Date to compare.</p></td></tr><tr><td>returns</td><td><p>1 if A is before B, -1 if B is before A and 0 if they represent the same point in time.</p></td></tr></tbody></table></div></div><div class="platform platform-project"><a name="dateBasedDelta"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#dateBasedDelta"><span class="identifier">dateBasedDelta</span></a>(d:<a class="type" href="./Date.html">Date</a>, ?yearDelta:<a class="type" href="./Int.html">Int</a> = 0, ?monthDelta:<a class="type" href="./Int.html">Int</a> = 0, ?dayDelta:<a class="type" href="./Int.html">Int</a> = 0, ?hourDelta:<a class="type" href="./Int.html">Int</a> = 0, ?minDelta:<a class="type" href="./Int.html">Int</a> = 0, ?secDelta:<a class="type" href="./Int.html">Int</a> = 0, ?msDelta:<a class="type" href="./Int.html">Int</a> = 0):<a class="type" href="./Date.html">Date</a></code></p></h3><div class="doc"><p>Perform a delta by creating a new Date object, rather than incrementing a timestamp.</p>
<p>This is important when the length of the delta is not a guaranteed number of seconds, for example:</p><ul><li>a month may have a differing number of days,</li><li>a day may not be exactly 24 hours if Daylight Savings begins or ends during that day,</li><li>a year may be 365 or or 366 days depending on the year.</li></ul></div></div><div class="platform platform-project"><a name="deltaDay"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#deltaDay"><span class="identifier">deltaDay</span></a>(d:<a class="type" href="./Date.html">Date</a>, numDays:<a class="type" href="./Int.html">Int</a>):<a class="type" href="./Date.html">Date</a></code></p></h3><div class="doc"><p>Return a new date, offset by <code>numDays</code> days</p></div></div><div class="platform platform-project"><a name="deltaHour"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#deltaHour"><span class="identifier">deltaHour</span></a>(d:<a class="type" href="./Date.html">Date</a>, numHrs:<a class="type" href="./Int.html">Int</a>):<a class="type" href="./Date.html">Date</a></code></p></h3><div class="doc"><p>Return a new date, offset by <code>numHrs</code> hours</p></div></div><div class="platform platform-project"><a name="deltaMin"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#deltaMin"><span class="identifier">deltaMin</span></a>(d:<a class="type" href="./Date.html">Date</a>, numMin:<a class="type" href="./Int.html">Int</a>):<a class="type" href="./Date.html">Date</a></code></p></h3><div class="doc"><p>Return a new date, offset by <code>numMin</code> minutes</p></div></div><div class="platform platform-project"><a name="deltaMonth"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#deltaMonth"><span class="identifier">deltaMonth</span></a>(d:<a class="type" href="./Date.html">Date</a>, numMonths:<a class="type" href="./Int.html">Int</a>):<a class="type" href="./Date.html">Date</a></code></p></h3><div class="doc"><p>Return a new date, offset by <code>numMonths</code> months</p></div></div><div class="platform platform-project"><a name="deltaSec"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#deltaSec"><span class="identifier">deltaSec</span></a>(d:<a class="type" href="./Date.html">Date</a>, numSec:<a class="type" href="./Int.html">Int</a>):<a class="type" href="./Date.html">Date</a></code></p></h3><div class="doc"><p>Return a new date, offset by <code>numSec</code> seconds</p></div></div><div class="platform platform-project"><a name="deltaWeek"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#deltaWeek"><span class="identifier">deltaWeek</span></a>(d:<a class="type" href="./Date.html">Date</a>, numWks:<a class="type" href="./Int.html">Int</a>):<a class="type" href="./Date.html">Date</a></code></p></h3><div class="doc"><p>Return a new date, offset by <code>numWks</code> weeks</p></div></div><div class="platform platform-project"><a name="deltaYear"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#deltaYear"><span class="identifier">deltaYear</span></a>(d:<a class="type" href="./Date.html">Date</a>, numYrs:<a class="type" href="./Int.html">Int</a>):<a class="type" href="./Date.html">Date</a></code></p></h3><div class="doc"><p>Return a new date, offset by <code>numYrs</code> years</p></div></div><div class="platform platform-project"><a name="format"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#format"><span class="identifier">format</span></a>(d:<a class="type" href="./Date.html">Date</a>, ?param:<a class="type" href="./String.html">String</a> = null, ?params:<a class="type" href="./Array.html">Array</a>&lt;<a class="type" href="./String.html">String</a>&gt; = null, ?culture:<a class="type" href="./thx/culture/Culture.html">Culture</a> = null):<a class="type" href="./String.html">String</a></code></p></h3><div class="doc"><p>Format a date.</p>
<pre><code>Output examples:
	date.format("D");		Tuesday, October 16, 2012
	date.format("DS");		10/16/2012
	date.format("DST");		10/16/2012 12:31:05 PM
	date.format("DSTS");	10/16/2012 12:31 PM
	date.format("DTS");		Tuesday, October 16, 2012 12:31 PM
	date.format("Y");		2012
	date.format("YM");		October, 2012
	date.format("M");		10
	date.format("MN");		October
	date.format("MS");		Oct
	date.format("MD");		October 16
	date.format("MDS");		Oct 16
	date.format("WD");		2
	date.format("WDN");		Tuesday
	date.format("WDS");		Tue
	date.format("R");		Tue, 16 Oct 2012 12:31:05 GMT
	date.format("DT");		Tuesday, October 16, 2012 12:31:05 PM
	date.format("U");		2012-10-16 12:31:05Z
	date.format("S");		2012-10-16T12:31:05
	date.format("T");		12:31:05 PM
	date.format("TS");		12:31 PM
	date.format("C");		Tuesday, October 16, 2012
	date.format(["C", "This happened on %A at %r"]);	This happened on Tuesday at 12:31:05 PM</code></pre>
<p>If the provided format does not match one of these strings, it is passed to FormatDate.format() and is used.</p>
<pre><code></code></pre><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>d</td><td><p>The Date object to format</p></td></tr><tr><td>param</td><td><p>A String with the parameter describing the desired output.  See the description above for a list of codes.</p></td></tr><tr><td>params</td><td><p>An array containing a number of parameters.  Mostly useful if you use "C", and then need a second parameter to describe the format.</p></td></tr><tr><td>culture</td><td><p>The culture to use.</p>
<pre><code></code></pre></td></tr></tbody></table></div></div><div class="platform platform-project"><a name="formatf"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#formatf"><span class="identifier">formatf</span></a>(?param:<a class="type" href="./String.html">String</a> = null, ?params:<a class="type" href="./Array.html">Array</a>&lt;<a class="type" href="./String.html">String</a>&gt; = null, ?culture:<a class="type" href="./thx/culture/Culture.html">Culture</a> = null):<a class="type" href="./Date.html">Date</a> -&gt;<a class="type" href="./String.html">String</a></code></p></h3><div class="doc"><p>Return a function for formatting a date.  The function returned depends on the format code used here.</p>
<p>@see format()</p></div></div><div class="platform platform-project"><a name="interpolate"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#interpolate"><span class="identifier">interpolate</span></a>(f:<a class="type" href="./Float.html">Float</a>, a:<a class="type" href="./Date.html">Date</a>, b:<a class="type" href="./Date.html">Date</a>, ?equation:<a class="type" href="./Float.html">Float</a> -&gt;<a class="type" href="./Float.html">Float</a> = null):<a class="type" href="./Date.html">Date</a></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-project"><a name="interpolatef"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#interpolatef"><span class="identifier">interpolatef</span></a>(a:<a class="type" href="./Date.html">Date</a>, b:<a class="type" href="./Date.html">Date</a>, ?equation:<a class="type" href="./Float.html">Float</a> -&gt;<a class="type" href="./Float.html">Float</a> = null):<a class="type" href="./Float.html">Float</a> -&gt;<a class="type" href="./Date.html">Date</a></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-project"><a name="isInLeapYear"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#isInLeapYear"><span class="identifier">isInLeapYear</span></a>(d:<a class="type" href="./Date.html">Date</a>):<a class="type" href="./Bool.html">Bool</a></code></p></h3><div class="doc"><p>Tells if the given date is inside a leap year.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>date</td><td><p>The date object to check.</p></td></tr><tr><td>returns</td><td><p>True if it is in a leap year, false otherwise.</p></td></tr></tbody></table></div></div><div class="platform platform-project"><a name="isLeapYear"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#isLeapYear"><span class="identifier">isLeapYear</span></a>(year:<a class="type" href="./Int.html">Int</a>):<a class="type" href="./Bool.html">Bool</a></code></p></h3><div class="doc"><p>Tells if a year is a leap year</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>year</td><td><p>The year, represented as a 4 digit integer</p></td></tr><tr><td>returns</td><td><p>True if a leap year, false otherwise.</p></td></tr></tbody></table></div></div><div class="platform platform-project"><a name="nextDay"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#nextDay"><span class="identifier">nextDay</span></a>(d:<a class="type" href="./Date.html">Date</a>):<a class="type" href="./Date.html">Date</a></code></p></h3><div class="doc"><p>Returns a new date, exactly 1 day after the given date/time.</p></div></div><div class="platform platform-project"><a name="nextMonth"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#nextMonth"><span class="identifier">nextMonth</span></a>(d:<a class="type" href="./Date.html">Date</a>):<a class="type" href="./Date.html">Date</a></code></p></h3><div class="doc"><p>Returns a new date, exactly 1 month after the given date/time.</p></div></div><div class="platform platform-project"><a name="nextWeek"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#nextWeek"><span class="identifier">nextWeek</span></a>(d:<a class="type" href="./Date.html">Date</a>):<a class="type" href="./Date.html">Date</a></code></p></h3><div class="doc"><p>Returns a new date, exactly 1 week after the given date/time.</p></div></div><div class="platform platform-project"><a name="nextYear"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#nextYear"><span class="identifier">nextYear</span></a>(d:<a class="type" href="./Date.html">Date</a>):<a class="type" href="./Date.html">Date</a></code></p></h3><div class="doc"><p>Returns a new date, exactly 1 year after the given date/time.</p></div></div><div class="platform platform-project"><a name="numDaysInMonth"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#numDaysInMonth"><span class="identifier">numDaysInMonth</span></a>(month:<a class="type" href="./Int.html">Int</a>, year:<a class="type" href="./Int.html">Int</a>):<a class="type" href="./Int.html">Int</a></code></p></h3><div class="doc"><p>Returns the number of days in a month.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>month</td><td><p>An integer representing the month. (Jan=0, Dec=11)</p></td></tr><tr><td>year</td><td><p>An 4 digit integer representing the year.</p></td></tr><tr><td>returns</td><td><p>Int, the number of days in the month.</p></td></tr></tbody></table></div></div><div class="platform platform-project"><a name="numDaysInThisMonth"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#numDaysInThisMonth"><span class="identifier">numDaysInThisMonth</span></a>(d:<a class="type" href="./Date.html">Date</a>):<a class="type" href="./Int.html">Int</a></code></p></h3><div class="doc"><p>Tells how many days in the month of the given date.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>date</td><td><p>The date representing the month we are checking.</p></td></tr><tr><td>returns</td><td><p>Int, the number of days in the month.</p></td></tr></tbody></table></div></div><div class="platform platform-project"><a name="parse"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#parse"><span class="identifier">parse</span></a>(s:<a class="type" href="./String.html">String</a>):<a class="type" href="./Date.html">Date</a></code></p></h3><div class="doc"><p>Parses a string into a Date object.</p>
<p>Use Dates.canParse() to see if a string is in a parsable format.</p>
<p>@see <code><a href="./Dates.html#canParse">Dates.canParse</a>()</code></p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>s</td><td><p>String to parse.  See canParse() docs for valid string formats.</p></td></tr><tr><td>returns</td><td><p>A Date object for the given time.</p></td></tr></tbody></table></div></div><div class="platform platform-project"><a name="prevDay"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#prevDay"><span class="identifier">prevDay</span></a>(d:<a class="type" href="./Date.html">Date</a>):<a class="type" href="./Date.html">Date</a></code></p></h3><div class="doc"><p>Returns a new date, exactly 1 day before the given date/time.</p></div></div><div class="platform platform-project"><a name="prevMonth"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#prevMonth"><span class="identifier">prevMonth</span></a>(d:<a class="type" href="./Date.html">Date</a>):<a class="type" href="./Date.html">Date</a></code></p></h3><div class="doc"><p>Returns a new date, exactly 1 month before the given date/time.</p></div></div><div class="platform platform-project"><a name="prevWeek"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#prevWeek"><span class="identifier">prevWeek</span></a>(d:<a class="type" href="./Date.html">Date</a>):<a class="type" href="./Date.html">Date</a></code></p></h3><div class="doc"><p>Returns a new date, exactly 1 week before the given date/time.</p></div></div><div class="platform platform-project"><a name="prevYear"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#prevYear"><span class="identifier">prevYear</span></a>(d:<a class="type" href="./Date.html">Date</a>):<a class="type" href="./Date.html">Date</a></code></p></h3><div class="doc"><p>Returns a new date, exactly 1 year before the given date/time.</p></div></div><div class="platform platform-project"><a name="snap"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#snap"><span class="identifier">snap</span></a>(time:<a class="type" href="./Float.html">Float</a>, period:<a class="type" href="./TimePeriod.html">TimePeriod</a>, ?mode:<a class="type" href="./SnapMode.html">SnapMode</a> = null):<a class="type" href="./Float.html">Float</a></code></p></h3><div class="doc"><p>Snaps a time to the nearest second, minute, hour, day, week, month or year.</p>
<p>Note, I'm not sure if "week" is functioning correctly yet. It rounds up/down to the
nearest 7 days, but the epoch didn't begin on a sunday or monday, so that's probably wrong</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>time</td><td><p>The unix time in milliseconds.  See date.getTime()</p></td></tr><tr><td>period</td><td><p>Either: Second, Minute, Hour, Day, Week, Month or Year</p></td></tr><tr><td>mode</td><td><p>Either: Up, Down or Round</p></td></tr><tr><td>returns</td><td><p>the unix time of the snapped date (In milliseconds).  Or 0 if "period" was invalid.</p></td></tr></tbody></table></div></div><div class="platform platform-project"><a name="snapToWeekDay"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#snapToWeekDay"><span class="identifier">snapToWeekDay</span></a>(time:<a class="type" href="./Float.html">Float</a>, day:<a class="type" href="./Weekday.html">Weekday</a>, ?snapMode:<a class="type" href="./SnapMode.html">SnapMode</a> = null, ?firstDayOfWk:<a class="type" href="./Weekday.html">Weekday</a> = null):<a class="type" href="./Float.html">Float</a></code></p></h3><div class="doc"><p>Snaps a time to a given weekday in the current week.  The time within the day will stay the same.</p>
<p>If you are already on the given day, the date will not change.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>time</td><td><p>The unix time in milliseconds.  See date.getTime()</p></td></tr><tr><td>day</td><td><p>Day to snap to.  Either "sunday", "monday", "tuesday" etc. Case insensitive.</p></td></tr><tr><td>mode</td><td><p>Whether to go the next day (Up), the previous day (Down), or in the current week (Round, default).</p></td></tr><tr><td>firstDayOfWk</td><td><p>The first day of the week.  Default to 0 (Sunday).  Monday = 1.</p></td></tr><tr><td>returns</td><td><p>The unix time of the day you have snapped to.</p></td></tr></tbody></table></div></div></div></div></div></body></html>