<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/><link href="../../../bootstrap-combined.min.css" rel="stylesheet" /><script type="text/javascript" src="../../../jquery-1.9.1.min.js"></script><script type="text/javascript" src="../../../bootstrap.min.js"></script><link href="../../../styles.css" rel="stylesheet" /><link rel="icon" href="../../../favicon.ico" type="image/x-icon"></link><script type="text/javascript" src="../../../nav.js"></script><script type="text/javascript" src="../../../index.js"></script><script type="text/javascript">var dox = {rootPath: "../../../",platforms: ["dox"]};</script><title>HttpResponse</title></head><body><div class="navbar navbar-inverse navbar-fixed-top"><div class="navbar-inner"><form class="navbar-search pull-left" id="searchForm"><input id="search" type="text" class="search-query" placeholder="Filter" autocomplete="off"/></form><ul class="nav"><li id="select-platform" class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Platform<b class="caret"></b></a><ul class="dropdown-menu"><li data="all"><a href="#">All Platforms</a></li><li data="dox"><a href="#">dox</a></li></ul></li></ul></div></div><div id="container"><div id="nav"></div><div id="content"><div class="header"><h1><code><span class="directive">class </span><span class="type">ufront.web.context.HttpResponse</span></code></h1></div><div class="body"><p class="availability">Available on all platforms</p><div><table class="related-types toggle" style="margin-top:16px;"><tbody><tr><td colspan="2"><strong>Sub classes</strong></td></tr><tr><td width="12" style="vertical-align:top;"><a href="#" onclick="toggleInherited(this)"><img style="padding-top:4px;" src="../../../triangle-closed.png"></img></a></td><td class="toggle-hide"><a href="../../../neko/ufront/web/context/HttpResponse.html">HttpResponse</a></td><td class="toggle-show"><table class="table table-condensed"><tbody><tr><td width="200"><a href="../../../neko/ufront/web/context/HttpResponse.html">HttpResponse</a></td><td><p></p></td></tr></tbody></table></td></tr></tbody></table></div><div class="doc"><p>The response that will be sent to the browser</p></div><h2>Class Fields</h2><div class="platform platform-dox"><a name="create"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#create"><span class="identifier">create</span></a>():<a class="type" href="../../../ufront/web/context/HttpResponse.html">HttpResponse</a></code></p></h3><div class="doc"><p>Create a <code><a href="../../../ufront/web/context/HttpResponse.html">HttpResponse</a></code> using the platform specific implementation.</p>
<p>Currently PHP and Neko are supported.  Other platforms will get the default implementation, which will mostly work, except for flush(), which actually writes the HTTP response output.</p></div></div><h2>Instance Fields</h2><div class="platform platform-dox"><a name="charset"></a><h3><p><code><span class="keyword">var</span> <a href="#charset"><span class="identifier">charset</span></a>:<a class="type" href="../../../String.html">String</a></code></p></h3><div class="doc"><p>Get or set the <code>charset</code> used in the HTTP "Content-type" header when the type is "text/*". Default is <code>utf-8</code>.</p></div></div><div class="platform platform-dox"><a name="contentType"></a><h3><p><code><span class="keyword">var</span> <a href="#contentType"><span class="identifier">contentType</span></a>:<a class="type" href="../../../String.html">String</a></code></p></h3><div class="doc"><p>Get or set the Http "Content-type" header. Default is <code>text/html</code>.</p></div></div><div class="platform platform-dox"><a name="redirectLocation"></a><h3><p><code><span class="keyword">var</span> <a href="#redirectLocation"><span class="identifier">redirectLocation</span></a>:<a class="type" href="../../../String.html">String</a></code></p></h3><div class="doc"><p>Location to redirect to. Will add or remove a "Location" header from the HTTP headers</p></div></div><div class="platform platform-dox"><a name="status"></a><h3><p><code><span class="keyword">var</span> <a href="#status"><span class="identifier">status</span></a>:<a class="type" href="../../../Int.html">Int</a></code></p></h3><div class="doc"><p>The HTTP Response code.  See the inline static vars for common values. Default is 200.</p></div></div><div class="platform platform-dox"><a name="new"></a><h3><p><code><span class="keyword">function</span> <a href="#new"><span class="identifier">new</span></a>():<a class="type" href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Use DEFAULT<em>CHARSET, DEFAULT</em>STATUS.  contentType is null by default.</p></div></div><div class="platform platform-dox"><a name="clear"></a><h3><p><code><span class="keyword">function</span> <a href="#clear"><span class="identifier">clear</span></a>():<a class="type" href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Will clear existing headers, cookies, content and status.</p></div></div><div class="platform platform-dox"><a name="clearContent"></a><h3><p><code><span class="keyword">function</span> <a href="#clearContent"><span class="identifier">clearContent</span></a>():<a class="type" href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Clear the content set in this response so far.</p></div></div><div class="platform platform-dox"><a name="clearCookies"></a><h3><p><code><span class="keyword">function</span> <a href="#clearCookies"><span class="identifier">clearCookies</span></a>():<a class="type" href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Clear any cookies set in this response so far.</p></div></div><div class="platform platform-dox"><a name="clearHeaders"></a><h3><p><code><span class="keyword">function</span> <a href="#clearHeaders"><span class="identifier">clearHeaders</span></a>():<a class="type" href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Clear the headers set in this response so far.</p></div></div><div class="platform platform-dox"><a name="flush"></a><h3><p><code><span class="keyword">function</span> <a href="#flush"><span class="identifier">flush</span></a>():<a class="type" href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Write the output to the response.</p>
<p>This includes writing the cookies, the HttpHeaders and then the content.</p>
<p>This is an abstract method, it is implemented differently on each platform.</p>
<p>It will throw NotImplemented() unless a subclass overrides this method.</p></div></div><div class="platform platform-dox"><a name="getBuffer"></a><h3><p><code><span class="keyword">function</span> <a href="#getBuffer"><span class="identifier">getBuffer</span></a>():<a class="type" href="../../../String.html">String</a></code></p></h3><div class="doc"><p>Get the current content output (String) of this response</p></div></div><div class="platform platform-dox"><a name="getCookies"></a><h3><p><code><span class="keyword">function</span> <a href="#getCookies"><span class="identifier">getCookies</span></a>():<a class="type" href="../../../haxe/ds/StringMap.html">StringMap</a>&lt;<a class="type" href="../../../ufront/web/HttpCookie.html">HttpCookie</a>&gt;</code></p></h3><div class="doc"><p>Get the <code><a href="../../../haxe/ds/StringMap.html">StringMap</a></code> of Cookies set in this response</p></div></div><div class="platform platform-dox"><a name="getHeaders"></a><h3><p><code><span class="keyword">function</span> <a href="#getHeaders"><span class="identifier">getHeaders</span></a>():<a class="type" href="../../../ufront/core/OrderedStringMap.html">OrderedStringMap</a>&lt;<a class="type" href="../../../String.html">String</a>&gt;</code></p></h3><div class="doc"><p>Get the <code><a href="../../../ufront/core/OrderedStringMap.html">OrderedStringMap</a></code> of HTTP headers set in this response.</p>
<p>A OrderedStringMap is basically a StringMap, but it preserves the order of the items (headers in this case)</p></div></div><div class="platform platform-dox"><a name="isPermanentRedirect"></a><h3><p><code><span class="keyword">function</span> <a href="#isPermanentRedirect"><span class="identifier">isPermanentRedirect</span></a>():<a class="type" href="../../../Bool.html">Bool</a></code></p></h3><div class="doc"><p>A shortcut to tell whether the current status indicates this response is a permanent redirect (true) or not (false)</p></div></div><div class="platform platform-dox"><a name="isRedirect"></a><h3><p><code><span class="keyword">function</span> <a href="#isRedirect"><span class="identifier">isRedirect</span></a>():<a class="type" href="../../../Bool.html">Bool</a></code></p></h3><div class="doc"><p>A shortcut to tell whether the current status indicates this response is a redirect (true) or not (false)</p></div></div><div class="platform platform-dox"><a name="permanentRedirect"></a><h3><p><code><span class="keyword">function</span> <a href="#permanentRedirect"><span class="identifier">permanentRedirect</span></a>(url:<a class="type" href="../../../String.html">String</a>):<a class="type" href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Set the HTTP Response Code to <code>MOVED_PERMANENTLY</code> (301) and set the <code>redirectLocation</code>, which will set the <code>Location</code> HTTP header.</p>
<p>If URL is null, the <code>Location</code> header will be removed.</p></div></div><div class="platform platform-dox"><a name="preventFlush"></a><h3><p><code><span class="keyword">function</span> <a href="#preventFlush"><span class="identifier">preventFlush</span></a>():<a class="type" href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Prevent the response from flushing.</p>
<p>This is useful if some code has written to the output manually, rather than writing to the response.</p></div></div><div class="platform platform-dox"><a name="redirect"></a><h3><p><code><span class="keyword">function</span> <a href="#redirect"><span class="identifier">redirect</span></a>(url:<a class="type" href="../../../String.html">String</a>):<a class="type" href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Set the HTTP Response Code to <code>FOUND</code> (302) and set the <code>redirectLocation</code>, which will set the <code>Location</code> HTTP header.</p>
<p>If URL is null, the <code>Location</code> header will be removed.</p></div></div><div class="platform platform-dox"><a name="requireAuthentication"></a><h3><p><code><span class="keyword">function</span> <a href="#requireAuthentication"><span class="identifier">requireAuthentication</span></a>(message:<a class="type" href="../../../String.html">String</a>):<a class="type" href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Ask the browser to retrieve a username/password from the user.</p>
<p>This is a shortcut for <code>setUnauthorized()</code> and <code>setHeader("WWW-Authenticate", "Basic realm="+message)</code>.</p></div></div><div class="platform platform-dox"><a name="setCookie"></a><h3><p><code><span class="keyword">function</span> <a href="#setCookie"><span class="identifier">setCookie</span></a>(cookie:<a class="type" href="../../../ufront/web/HttpCookie.html">HttpCookie</a>):<a class="type" href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Set a HTTP Cookie on the response</p></div></div><div class="platform platform-dox"><a name="setHeader"></a><h3><p><code><span class="keyword">function</span> <a href="#setHeader"><span class="identifier">setHeader</span></a>(name:<a class="type" href="../../../String.html">String</a>, value:<a class="type" href="../../../String.html">String</a>):<a class="type" href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Set a HTTP Header on the response</p></div></div><div class="platform platform-dox"><a name="setInternalError"></a><h3><p><code><span class="keyword">function</span> <a href="#setInternalError"><span class="identifier">setInternalError</span></a>():<a class="type" href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Set the HTTP Response Code to <code>INTERNAL_SERVER_ERROR</code> (500)</p></div></div><div class="platform platform-dox"><a name="setNotFound"></a><h3><p><code><span class="keyword">function</span> <a href="#setNotFound"><span class="identifier">setNotFound</span></a>():<a class="type" href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Set the HTTP Response Code to <code>NOT_FOUND</code> (404)</p></div></div><div class="platform platform-dox"><a name="setOk"></a><h3><p><code><span class="keyword">function</span> <a href="#setOk"><span class="identifier">setOk</span></a>():<a class="type" href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Set the HTTP Response Code to <code>DEFAULT_STATUS</code> (200)</p></div></div><div class="platform platform-dox"><a name="setUnauthorized"></a><h3><p><code><span class="keyword">function</span> <a href="#setUnauthorized"><span class="identifier">setUnauthorized</span></a>():<a class="type" href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Set the HTTP Response Code to <code>UNAUTHORIZED</code> (401)</p></div></div><div class="platform platform-dox"><a name="write"></a><h3><p><code><span class="keyword">function</span> <a href="#write"><span class="identifier">write</span></a>(s:<a class="type" href="../../../String.html">String</a>):<a class="type" href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Write a string to the HTTP response</p></div></div><div class="platform platform-dox"><a name="writeBytes"></a><h3><p><code><span class="keyword">function</span> <a href="#writeBytes"><span class="identifier">writeBytes</span></a>(b:<a class="type" href="../../../haxe/io/Bytes.html">Bytes</a>, pos:<a class="type" href="../../../Int.html">Int</a>, len:<a class="type" href="../../../Int.html">Int</a>):<a class="type" href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Write a number of bytes to the HTTP response</p></div></div><div class="platform platform-dox"><a name="writeChar"></a><h3><p><code><span class="keyword">function</span> <a href="#writeChar"><span class="identifier">writeChar</span></a>(c:<a class="type" href="../../../Int.html">Int</a>):<a class="type" href="../../../Void.html">Void</a></code></p></h3><div class="doc"><p>Write a single character to the HTTP response</p></div></div></div></div></div></body></html>